{"version":3,"sources":["../../../src/components/VExpansionPanel/VExpansionPanel.js"],"names":[],"mappings":"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","sourcesContent":["import '../../stylus/components/_expansion-panel.styl'\n\nimport Themeable from '../../mixins/themeable'\nimport { provide as RegistrableProvide } from '../../mixins/registrable'\n\n/* @vue/component */\nexport default {\n  name: 'v-expansion-panel',\n\n  mixins: [Themeable, RegistrableProvide('expansionPanel')],\n\n  provide () {\n    return {\n      expansionPanel: this\n    }\n  },\n\n  props: {\n    disabled: Boolean,\n    readonly: Boolean,\n    expand: Boolean,\n    focusable: Boolean,\n    inset: Boolean,\n    popout: Boolean,\n    value: {\n      type: [Number, Array],\n      default: () => null\n    }\n  },\n\n  data: () => ({\n    items: [],\n    open: []\n  }),\n\n  computed: {\n    classes () {\n      return {\n        'v-expansion-panel--focusable': this.focusable,\n        'v-expansion-panel--popout': this.popout,\n        'v-expansion-panel--inset': this.inset,\n        ...this.themeClasses\n      }\n    }\n  },\n\n  watch: {\n    expand (val) {\n      let openIndex\n      if (!val) {\n        // Close all panels unless only one is open\n        const openCount = this.open.reduce((acc, val) => acc + val, 0)\n        const open = Array(this.items.length).fill(false)\n\n        if (openCount === 1) {\n          openIndex = this.open.indexOf(true)\n        }\n\n        if (openIndex > -1) {\n          open[openIndex] = true\n        }\n\n        this.open = open\n      }\n\n      this.$emit('input', val ? this.open : (openIndex > -1 ? openIndex : null))\n    },\n    value (v) {\n      this.updateFromValue(v)\n    }\n  },\n\n  mounted () {\n    this.value !== null && this.updateFromValue(this.value)\n  },\n\n  methods: {\n    updateFromValue (v) {\n      if (Array.isArray(v) && !this.expand) return\n\n      let open = Array(this.items.length).fill(false)\n      if (typeof v === 'number') {\n        open[v] = true\n      } else if (v !== null) {\n        open = v\n      }\n\n      this.updatePanels(open)\n    },\n    updatePanels (open) {\n      this.open = open\n      for (let i = 0; i < this.items.length; i++) {\n        const active = open && open[i]\n        this.items[i].toggle(active)\n      }\n    },\n    panelClick (uid) {\n      const open = this.expand ? this.open.slice() : Array(this.items.length).fill(false)\n      for (let i = 0; i < this.items.length; i++) {\n        if (this.items[i].uid === uid) {\n          open[i] = !this.open[i]\n          !this.expand && this.$emit('input', open[i] ? i : null)\n        }\n      }\n\n      this.updatePanels(open)\n      if (this.expand) this.$emit('input', open)\n    },\n    register (uid, toggle) {\n      this.items.push({ uid, toggle })\n      this.open.push(false)\n    },\n    unregister (uid) {\n      const index = this.items.findIndex(i => i.uid === uid)\n      this.items.splice(index, 1)\n      this.open.splice(index, 1)\n    }\n  },\n\n  render (h) {\n    return h('ul', {\n      staticClass: 'v-expansion-panel',\n      class: this.classes\n    }, this.$slots.default)\n  }\n}\n"],"sourceRoot":""}
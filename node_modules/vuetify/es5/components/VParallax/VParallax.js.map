{"version":3,"sources":["../../../src/components/VParallax/VParallax.js"],"names":[],"mappings":";;;;;;;;AAEA;;;;;;AAEA;kBACe;AACb,UAAM,YADO;AAGb,YAAQ,CAAC,sBAAD,CAHK;AAKb,WAAO;AACL,aAAK,MADA;AAEL,gBAAQ;AACN,kBAAM,CAAC,MAAD,EAAS,MAAT,CADA;AAEN,qBAAS;AAFH,SAFH;AAML,aAAK;AANA,KALM;AAcb,QAda,kBAcT;AACF,eAAO;AACL,sBAAU;AADL,SAAP;AAGD,KAlBY;;AAoBb,cAAU;AACR,cADQ,oBACF;AACJ,mBAAO;AACL,yBAAS,OADJ;AAEL,yBAAS,KAAK,QAAL,GAAgB,CAAhB,GAAoB,CAFxB;AAGL,gDAA8B,KAAK,QAAnC;AAHK,aAAP;AAKD;AAPO,KApBG;AA8Bb,WAAO;AACL,gBADK,sBACG;AACN,iBAAK,QAAL,GAAgB,IAAhB;AACD;AAHI,KA9BM;AAoCb,WApCa,qBAoCN;AACL,aAAK,IAAL;AACD,KAtCY;;AAwCb,aAAS;AACP,YADO,kBACH;AAAA;;AACF,gBAAI,CAAC,KAAK,KAAL,CAAW,GAAhB,EAAqB;AAErB,gBAAI,KAAK,KAAL,CAAW,GAAX,CAAe,QAAnB,EAA6B;AAC3B,qBAAK,SAAL;AACA,qBAAK,SAAL;AACD,aAHD,MAGO;AACL,qBAAK,KAAL,CAAW,GAAX,CAAe,gBAAf,CAAgC,MAAhC,EAAwC,YAAK;AAC3C,0BAAK,SAAL;AACA,0BAAK,SAAL;AACD,iBAHD,EAGG,KAHH;AAID;AACF,SAbM;AAcP,iBAdO,uBAcE;AACP,mBAAO,KAAK,KAAL,CAAW,GAAX,CAAe,aAAtB;AACD,SAhBM;AAiBP,mBAjBO,yBAiBI;AACT,mBAAO,KAAK,GAAL,CAAS,SAAhB;AACD;AAnBM,KAxCI;AA8Db,UA9Da,kBA8DL,CA9DK,EA8DJ;AACP,YAAM,UAAU;AACd,yBAAa,mBADC;AAEd,mBAAO,KAAK,MAFE;AAGd,mBAAO;AACL,qBAAK,KAAK;AADL,aAHO;AAMd,iBAAK;AANS,SAAhB;AASA,YAAI,KAAK,GAAT,EAAc,QAAQ,KAAR,CAAc,GAAd,GAAoB,KAAK,GAAzB;AAEd,YAAM,YAAY,EAAE,KAAF,EAAS;AACzB,yBAAa;AADY,SAAT,EAEf,CACD,EAAE,KAAF,EAAS,OAAT,CADC,CAFe,CAAlB;AAMA,YAAM,UAAU,EAAE,KAAF,EAAS;AACvB,yBAAa;AADU,SAAT,EAEb,KAAK,MAAL,CAAY,OAFC,CAAhB;AAIA,eAAO,EAAE,KAAF,EAAS;AACd,yBAAa,YADC;AAEd,mBAAO;AACL,wBAAW,KAAK,MAAhB;AADK,aAFO;AAKd,gBAAI,KAAK;AALK,SAAT,EAMJ,CAAC,SAAD,EAAY,OAAZ,CANI,CAAP;AAOD;AA3FY,C","sourcesContent":["import '../../stylus/components/_parallax.styl'\n\nimport Translatable from '../../mixins/translatable'\n\n/* @vue/component */\nexport default {\n  name: 'v-parallax',\n\n  mixins: [Translatable],\n\n  props: {\n    alt: String,\n    height: {\n      type: [String, Number],\n      default: 500\n    },\n    src: String\n  },\n\n  data () {\n    return {\n      isBooted: false\n    }\n  },\n\n  computed: {\n    styles () {\n      return {\n        display: 'block',\n        opacity: this.isBooted ? 1 : 0,\n        transform: `translate(-50%, ${this.parallax}px)`\n      }\n    }\n  },\n\n  watch: {\n    parallax () {\n      this.isBooted = true\n    }\n  },\n\n  mounted () {\n    this.init()\n  },\n\n  methods: {\n    init () {\n      if (!this.$refs.img) return\n\n      if (this.$refs.img.complete) {\n        this.translate()\n        this.listeners()\n      } else {\n        this.$refs.img.addEventListener('load', () => {\n          this.translate()\n          this.listeners()\n        }, false)\n      }\n    },\n    objHeight () {\n      return this.$refs.img.naturalHeight\n    },\n    elOffsetTop () {\n      return this.$el.offsetTop\n    }\n  },\n\n  render (h) {\n    const imgData = {\n      staticClass: 'v-parallax__image',\n      style: this.styles,\n      attrs: {\n        src: this.src\n      },\n      ref: 'img'\n    }\n\n    if (this.alt) imgData.attrs.alt = this.alt\n\n    const container = h('div', {\n      staticClass: 'v-parallax__image-container'\n    }, [\n      h('img', imgData)\n    ])\n\n    const content = h('div', {\n      staticClass: 'v-parallax__content'\n    }, this.$slots.default)\n\n    return h('div', {\n      staticClass: 'v-parallax',\n      style: {\n        height: `${this.height}px`\n      },\n      on: this.$listeners\n    }, [container, content])\n  }\n}\n"],"sourceRoot":""}